from os.path import join, isfile
from os import listdir, remove

# dirtrain = 'datasets/coco/images_2/train2017/'
# dirtest = 'datasets/coco/images_2/test2017/'
# dirval = 'datasets/coco/images_2/val2017/'
# train_files = [f for f in listdir(dirtrain) if isfile(join(dirtrain, f))]
# test_files = [f for f in listdir(dirtest) if isfile(join(dirtest, f))]
# val_files = [f for f in listdir(dirval) if isfile(join(dirval, f))]

# for file in train_files:
#     if not file in train_files[:5000]:
#         remove(dirtrain+file)
        
# for file in val_files:
#     if not file in val_files[:1000]:
#         remove(dirval+file)

import cv2 as cv
import matplotlib.pyplot as plt
# img = cv.imread('datasets/coco/images/train2017/000000000247.jpg') 
img = cv.imread('datasets/coco/images/val2017/000000000139.jpg') 
y, x, _ = img.shape
# labels = [0.701125, 0.333962, 0.928391, 0.280165, 0.947703, 0.320519, 0.958094, 0.282406, 1, 0.268939 ,1, 0.215142, 0.959578, 0.201675, 0.745688, 0.295849, 0.681813, 0.311557, 0.671406, 0.235307, 0.665469, 0.215142, 0.656562, 0.224104, 0.663984, 0.280165, 0.669922, 0.329481]
# labels = [0.193969, 0.557429, 0.204422, 0.507877, 0.222328, 0.47184, 0.23725, 0.447075, 0.250672, 0.426792, 0.267094, 0.413278, 0.276047, 0.408774, 0.285, 0.404269, 0.287984, 0.0123821, 0.326781, 0.00113208, 0.347656, 0.22184, 0.347656, 0.273656, 0.344672, 0.368255, 0.358109, 0.375, 0.3775, 0.359245, 0.393922, 0.336722, 0.407344, 0.296179, 0.422266, 0.242123, 0.480469, 0.233113, 0.580438, 0.228608, 0.617734, 0.226344, 0.626687, 0.244363, 0.635641, 0.269151, 0.646094, 0.341226, 0.649078, 0.413278, 0.647578, 0.478608, 0.655047, 0.550684, 0.666969, 0.584458, 1, 0.53941, 0.996734, 0.649764, 0.787844, 0.699316, 0.784859, 0.78717, 0.789328, 0.79842, 0.816188, 0.78941, 0.823656, 0.78941, 0.825141, 0.818703, 0.825141, 0.843467, 0.822156, 0.875, 0.822156, 0.917783, 0.822156, 0.944811, 0.822156, 0.953821, 0.810219, 0.956085, 0.787844, 0.953821, 0.763969, 0.906533, 0.758, 0.852476, 0.762469, 0.834458, 0.762469, 0.690307, 0.583422, 0.72184, 0.577453, 0.724104, 0.707266, 0.875, 0.704281, 0.890755, 0.529703, 0.793915, 0.504328, 0.802925, 0.461062, 0.820943, 0.461062, 0.877241, 0.452109, 0.917783, 0.452109, 0.942571, 0.462563, 0.956085, 0.4745, 0.987618, 0.408844, 0.983113, 0.411828, 0.96059, 0.419281, 0.940307, 0.42675, 0.850236, 0.364078, 0.818703, 0.325281, 0.791675, 0.332734, 0.834458, 0.329766, 0.850236, 0.314844, 0.850236, 0.313344, 0.852476, 0.313344, 0.88625, 0.302906, 0.899764, 0.287984, 0.906533, 0.271563, 0.899764, 0.271563, 0.897524, 0.261125, 0.877241, 0.261125, 0.854741, 0.262609, 0.829953, 0.265594, 0.800684, 0.277531, 0.77816, 0.2835, 0.766887, 0.2835, 0.751132, 0.250672, 0.697075, 0.243219, 0.681297, 0.0865469, 0.820943, 0.0298438, 0.859245, 0.0164063, 0.856981, 0.0164063, 0.832217, 0.102953, 0.717335, 0.123844, 0.685802, 0.14175, 0.661038, 0.174578, 0.647524, 0.188, 0.627241, 0.00745312, 0.582217, 0.00446875, 0.496627, 0.0671406, 0.501132, 0.153688, 0.534906, 0.174578, 0.534906]

# for k in range(len(labels)//2-1):
#     img = cv.line(img, (int(x*labels[2*k]), int(y*labels[2*k+1])), (int(x*labels[2*k+2]), int(y*labels[2*k+3])), (255, 0, 0), 2)
    # img = cv.rectangle(img, (int(x*labels[4*k]), int(y*labels[4*k+1])), (int(x*labels[4*k+2]), int(y*labels[4*k+3])), (255, 0, 0))

rect = [236.98,142.51,24.7,69.5]
rect = [7.03,167.76,149.32,94.87]
rect = [557.21,209.19,81.35,78.73]
img = cv.rectangle(img, (x-int(rect[0]),y-int(rect[1])), (x-int(rect[2]),y-int(rect[3])), (255,0,0))
plt.imshow(img)
plt.show()